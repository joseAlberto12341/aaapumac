Options All -Indexes

RewriteEngine On
RewriteBase /Aaapumac/

RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]

# Si la solicitud es para un archivo o directorio real, no reescribir
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Ruta raíz
RewriteRule ^$ index.php?e=public&a=index [NC,QSA,L]

# RUTAS ESPECÍFICAS DE LOGIN
RewriteRule ^login/?$ index.php?e=login&a=index [NC,QSA,L]
RewriteRule ^login/check/?$ index.php?e=login&a=check [NC,QSA,L]
RewriteRule ^login/logout/?$ index.php?e=login&a=logout [NC,QSA,L]

# RUTAS PARA ADMIN - BLOQUEAR/DESBLOQUEAR EMPLEOS
RewriteRule ^admin/([0-9]+)/lock/?$ index.php?e=admin&a=lock&id=$1 [NC,QSA,L]
RewriteRule ^admin/([0-9]+)/unlock/?$ index.php?e=admin&a=unlock&id=$1 [NC,QSA,L]

# RUTA ESPECÍFICA PARA DETALLES DE EMPLEO
RewriteRule ^public/([0-9]+)/job/?$ index.php?e=public&a=job&id=$1 [NC,QSA,L]

# RUTAS PARA PUBLIC (deben ir antes de las reglas generales)
RewriteRule ^jobs/?$ index.php?e=public&a=jobs [NC,QSA,L]
RewriteRule ^conocenos/?$ index.php?e=public&a=conocenos [NC,QSA,L]
RewriteRule ^politica/?$ index.php?e=public&a=politica [NC,QSA,L]
RewriteRule ^capacitacion/?$ index.php?e=public&a=capacitacion [NC,QSA,L]
RewriteRule ^contact/?$ index.php?e=public&a=contact [NC,QSA,L]
RewriteRule ^report/?$ index.php?e=public&a=report [NC,QSA,L]
RewriteRule ^terminos/?$ index.php?e=public&a=terminos [NC,QSA,L]
RewriteRule ^aviso/?$ index.php?e=public&a=aviso [NC,QSA,L]
RewriteRule ^depar/?$ index.php?e=public&a=depar [NC,QSA,L]
RewriteRule ^datoaAd/?$ index.php?e=public&a=datoaAd [NC,QSA,L]

# REGLAS GENERALES (deben ir al final)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([a-zA-Z]+)/([a-zA-Z]+)/?$ index.php?e=$1&a=$2 [NC,QSA,L]

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([a-zA-Z]+)/?$ index.php?e=$1&a=index [NC,QSA,L]